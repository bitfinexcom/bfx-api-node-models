<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>model.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Alert.html">Alert</a><ul class='methods'><li data-type='method'><a href="Alert.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Alert.html#.validate">validate</a></li><li data-type='method'><a href="Alert.html#serialize">serialize</a></li><li data-type='method'><a href="Alert.html#toJS">toJS</a></li></ul></li><li><a href="BalanceInfo.html">BalanceInfo</a><ul class='methods'><li data-type='method'><a href="BalanceInfo.html#.unserialize">unserialize</a></li><li data-type='method'><a href="BalanceInfo.html#.validate">validate</a></li><li data-type='method'><a href="BalanceInfo.html#serialize">serialize</a></li><li data-type='method'><a href="BalanceInfo.html#toJS">toJS</a></li></ul></li><li><a href="Candle.html">Candle</a><ul class='methods'><li data-type='method'><a href="Candle.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Candle.html#.validate">validate</a></li><li data-type='method'><a href="Candle.html#serialize">serialize</a></li><li data-type='method'><a href="Candle.html#toJS">toJS</a></li></ul></li><li><a href="Currency.html">Currency</a><ul class='methods'><li data-type='method'><a href="Currency.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Currency.html#.validate">validate</a></li><li data-type='method'><a href="Currency.html#serialize">serialize</a></li><li data-type='method'><a href="Currency.html#toJS">toJS</a></li></ul></li><li><a href="FundingCredit.html">FundingCredit</a><ul class='methods'><li data-type='method'><a href="FundingCredit.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingCredit.html#.validate">validate</a></li><li data-type='method'><a href="FundingCredit.html#serialize">serialize</a></li><li data-type='method'><a href="FundingCredit.html#toJS">toJS</a></li></ul></li><li><a href="FundingInfo.html">FundingInfo</a><ul class='methods'><li data-type='method'><a href="FundingInfo.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingInfo.html#.validate">validate</a></li><li data-type='method'><a href="FundingInfo.html#serialize">serialize</a></li><li data-type='method'><a href="FundingInfo.html#toJS">toJS</a></li></ul></li><li><a href="FundingLoan.html">FundingLoan</a><ul class='methods'><li data-type='method'><a href="FundingLoan.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingLoan.html#.validate">validate</a></li><li data-type='method'><a href="FundingLoan.html#serialize">serialize</a></li><li data-type='method'><a href="FundingLoan.html#toJS">toJS</a></li></ul></li><li><a href="FundingOffer.html">FundingOffer</a><ul class='methods'><li data-type='method'><a href="FundingOffer.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingOffer.html#.validate">validate</a></li><li data-type='method'><a href="FundingOffer.html#cancel">cancel</a></li><li data-type='method'><a href="FundingOffer.html#close">close</a></li><li data-type='method'><a href="FundingOffer.html#serialize">serialize</a></li><li data-type='method'><a href="FundingOffer.html#submit">submit</a></li><li data-type='method'><a href="FundingOffer.html#toJS">toJS</a></li><li data-type='method'><a href="FundingOffer.html#toNewOfferPacket">toNewOfferPacket</a></li><li data-type='method'><a href="FundingOffer.html#toString">toString</a></li></ul></li><li><a href="FundingTicker.html">FundingTicker</a><ul class='methods'><li data-type='method'><a href="FundingTicker.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingTicker.html#.validate">validate</a></li><li data-type='method'><a href="FundingTicker.html#base">base</a></li><li data-type='method'><a href="FundingTicker.html#quote">quote</a></li></ul></li><li><a href="FundingTickerHist.html">FundingTickerHist</a><ul class='methods'><li data-type='method'><a href="FundingTickerHist.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingTickerHist.html#.validate">validate</a></li><li data-type='method'><a href="FundingTickerHist.html#base">base</a></li><li data-type='method'><a href="FundingTickerHist.html#quote">quote</a></li><li data-type='method'><a href="FundingTickerHist.html#serialize">serialize</a></li><li data-type='method'><a href="FundingTickerHist.html#toJS">toJS</a></li></ul></li><li><a href="FundingTrade.html">FundingTrade</a><ul class='methods'><li data-type='method'><a href="FundingTrade.html#.unserialize">unserialize</a></li><li data-type='method'><a href="FundingTrade.html#.validate">validate</a></li><li data-type='method'><a href="FundingTrade.html#serialize">serialize</a></li><li data-type='method'><a href="FundingTrade.html#toJS">toJS</a></li><li data-type='method'><a href="FundingTrade.html#toString">toString</a></li></ul></li><li><a href="LedgerEntry.html">LedgerEntry</a><ul class='methods'><li data-type='method'><a href="LedgerEntry.html#.unserialize">unserialize</a></li><li data-type='method'><a href="LedgerEntry.html#.validate">validate</a></li><li data-type='method'><a href="LedgerEntry.html#serialize">serialize</a></li><li data-type='method'><a href="LedgerEntry.html#toJS">toJS</a></li></ul></li><li><a href="Liquidations.html">Liquidations</a><ul class='methods'><li data-type='method'><a href="Liquidations.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Liquidations.html#.validate">validate</a></li><li data-type='method'><a href="Liquidations.html#serialize">serialize</a></li><li data-type='method'><a href="Liquidations.html#toJS">toJS</a></li><li data-type='method'><a href="Liquidations.html#toString">toString</a></li></ul></li><li><a href="Login.html">Login</a><ul class='methods'><li data-type='method'><a href="Login.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Login.html#.validate">validate</a></li><li data-type='method'><a href="Login.html#serialize">serialize</a></li><li data-type='method'><a href="Login.html#toJS">toJS</a></li></ul></li><li><a href="MarginInfo.html">MarginInfo</a><ul class='methods'><li data-type='method'><a href="MarginInfo.html#.unserialize">unserialize</a></li><li data-type='method'><a href="MarginInfo.html#.validate">validate</a></li><li data-type='method'><a href="MarginInfo.html#serialize">serialize</a></li><li data-type='method'><a href="MarginInfo.html#toJS">toJS</a></li></ul></li><li><a href="Model.html">Model</a><ul class='methods'><li data-type='method'><a href="Model.html#.setParsedProperties">setParsedProperties</a></li><li data-type='method'><a href="Model.html#.unserializeWithDataDefinition">unserializeWithDataDefinition</a></li><li data-type='method'><a href="Model.html#.validateWithDataDefinition">validateWithDataDefinition</a></li><li data-type='method'><a href="Model.html#serialize">serialize</a></li><li data-type='method'><a href="Model.html#toJS">toJS</a></li></ul></li><li><a href="Movement.html">Movement</a><ul class='methods'><li data-type='method'><a href="Movement.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Movement.html#.validate">validate</a></li><li data-type='method'><a href="Movement.html#serialize">serialize</a></li><li data-type='method'><a href="Movement.html#toJS">toJS</a></li></ul></li><li><a href="Notification.html">Notification</a><ul class='methods'><li data-type='method'><a href="Notification.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Notification.html#.validate">validate</a></li><li data-type='method'><a href="Notification.html#serialize">serialize</a></li><li data-type='method'><a href="Notification.html#toJS">toJS</a></li></ul></li><li><a href="Order.html">Order</a><ul class='methods'><li data-type='method'><a href="Order.html#.getBaseCurrency">getBaseCurrency</a></li><li data-type='method'><a href="Order.html#.getQuoteCurrency">getQuoteCurrency</a></li><li data-type='method'><a href="Order.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Order.html#.validate">validate</a></li><li data-type='method'><a href="Order.html#cancel">cancel</a></li><li data-type='method'><a href="Order.html#cbGID">cbGID</a></li><li data-type='method'><a href="Order.html#getBaseCurrency">getBaseCurrency</a></li><li data-type='method'><a href="Order.html#getLastFillAmount">getLastFillAmount</a></li><li data-type='method'><a href="Order.html#getNotionalValue">getNotionalValue</a></li><li data-type='method'><a href="Order.html#getQuoteCurrency">getQuoteCurrency</a></li><li data-type='method'><a href="Order.html#includesVariableRates">includesVariableRates</a></li><li data-type='method'><a href="Order.html#isHidden">isHidden</a></li><li data-type='method'><a href="Order.html#isOCO">isOCO</a></li><li data-type='method'><a href="Order.html#isPartiallyFilled">isPartiallyFilled</a></li><li data-type='method'><a href="Order.html#isPositionClose">isPositionClose</a></li><li data-type='method'><a href="Order.html#isPostOnly">isPostOnly</a></li><li data-type='method'><a href="Order.html#isReduceOnly">isReduceOnly</a></li><li data-type='method'><a href="Order.html#modifyFlag">modifyFlag</a></li><li data-type='method'><a href="Order.html#recreate">recreate</a></li><li data-type='method'><a href="Order.html#registerListeners">registerListeners</a></li><li data-type='method'><a href="Order.html#removeListeners">removeListeners</a></li><li data-type='method'><a href="Order.html#resetFilledAmount">resetFilledAmount</a></li><li data-type='method'><a href="Order.html#serialize">serialize</a></li><li data-type='method'><a href="Order.html#setHidden">setHidden</a></li><li data-type='method'><a href="Order.html#setNoVariableRates">setNoVariableRates</a></li><li data-type='method'><a href="Order.html#setOCO">setOCO</a></li><li data-type='method'><a href="Order.html#setPositionClose">setPositionClose</a></li><li data-type='method'><a href="Order.html#setPostOnly">setPostOnly</a></li><li data-type='method'><a href="Order.html#setReduceOnly">setReduceOnly</a></li><li data-type='method'><a href="Order.html#submit">submit</a></li><li data-type='method'><a href="Order.html#toJS">toJS</a></li><li data-type='method'><a href="Order.html#toNewOrderPacket">toNewOrderPacket</a></li><li data-type='method'><a href="Order.html#toPreview">toPreview</a></li><li data-type='method'><a href="Order.html#toString">toString</a></li><li data-type='method'><a href="Order.html#update">update</a></li><li data-type='method'><a href="Order.html#updateFrom">updateFrom</a></li></ul></li><li><a href="OrderBook.html">OrderBook</a><ul class='methods'><li data-type='method'><a href="OrderBook.html#.arrayOBMidPrice">arrayOBMidPrice</a></li><li data-type='method'><a href="OrderBook.html#.checksumArr">checksumArr</a></li><li data-type='method'><a href="OrderBook.html#.priceForChecksum">priceForChecksum</a></li><li data-type='method'><a href="OrderBook.html#.unserialize">unserialize</a></li><li data-type='method'><a href="OrderBook.html#.updateArrayOBWith">updateArrayOBWith</a></li><li data-type='method'><a href="OrderBook.html#askAmount">askAmount</a></li><li data-type='method'><a href="OrderBook.html#bidAmount">bidAmount</a></li><li data-type='method'><a href="OrderBook.html#checksum">checksum</a></li><li data-type='method'><a href="OrderBook.html#getEntry">getEntry</a></li><li data-type='method'><a href="OrderBook.html#midPrice">midPrice</a></li><li data-type='method'><a href="OrderBook.html#spread">spread</a></li><li data-type='method'><a href="OrderBook.html#toJS">toJS</a></li><li data-type='method'><a href="OrderBook.html#topAsk">topAsk</a></li><li data-type='method'><a href="OrderBook.html#topAskLevel">topAskLevel</a></li><li data-type='method'><a href="OrderBook.html#topBid">topBid</a></li><li data-type='method'><a href="OrderBook.html#topBidLevel">topBidLevel</a></li><li data-type='method'><a href="OrderBook.html#updateFromSnapshot">updateFromSnapshot</a></li><li data-type='method'><a href="OrderBook.html#updateWith">updateWith</a></li><li data-type='method'><a href="OrderBook.html#volBPSMid">volBPSMid</a></li></ul></li><li><a href="Position.html">Position</a><ul class='methods'><li data-type='method'><a href="Position.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Position.html#.validate">validate</a></li><li data-type='method'><a href="Position.html#claim">claim</a></li><li data-type='method'><a href="Position.html#close">close</a></li><li data-type='method'><a href="Position.html#orderToClose">orderToClose</a></li><li data-type='method'><a href="Position.html#serialize">serialize</a></li><li data-type='method'><a href="Position.html#toJS">toJS</a></li><li data-type='method'><a href="Position.html#toString">toString</a></li></ul></li><li><a href="PublicTrade.html">PublicTrade</a><ul class='methods'><li data-type='method'><a href="PublicTrade.html#.unserialize">unserialize</a></li><li data-type='method'><a href="PublicTrade.html#.validate">validate</a></li><li data-type='method'><a href="PublicTrade.html#serialize">serialize</a></li><li data-type='method'><a href="PublicTrade.html#toJS">toJS</a></li><li data-type='method'><a href="PublicTrade.html#toString">toString</a></li></ul></li><li><a href="StatusMessagesDeriv.html">StatusMessagesDeriv</a><ul class='methods'><li data-type='method'><a href="StatusMessagesDeriv.html#.unserialize">unserialize</a></li><li data-type='method'><a href="StatusMessagesDeriv.html#.validate">validate</a></li><li data-type='method'><a href="StatusMessagesDeriv.html#serialize">serialize</a></li><li data-type='method'><a href="StatusMessagesDeriv.html#toJS">toJS</a></li></ul></li><li><a href="Trade.html">Trade</a><ul class='methods'><li data-type='method'><a href="Trade.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Trade.html#.validate">validate</a></li><li data-type='method'><a href="Trade.html#serialize">serialize</a></li><li data-type='method'><a href="Trade.html#toJS">toJS</a></li><li data-type='method'><a href="Trade.html#toString">toString</a></li></ul></li><li><a href="TradingTicker.html">TradingTicker</a><ul class='methods'><li data-type='method'><a href="TradingTicker.html#.unserialize">unserialize</a></li><li data-type='method'><a href="TradingTicker.html#.validate">validate</a></li><li data-type='method'><a href="TradingTicker.html#base">base</a></li><li data-type='method'><a href="TradingTicker.html#quote">quote</a></li><li data-type='method'><a href="TradingTicker.html#serialize">serialize</a></li><li data-type='method'><a href="TradingTicker.html#toJS">toJS</a></li></ul></li><li><a href="TradingTickerHist.html">TradingTickerHist</a><ul class='methods'><li data-type='method'><a href="TradingTickerHist.html#.unserialize">unserialize</a></li><li data-type='method'><a href="TradingTickerHist.html#.validate">validate</a></li><li data-type='method'><a href="TradingTickerHist.html#base">base</a></li><li data-type='method'><a href="TradingTickerHist.html#quote">quote</a></li><li data-type='method'><a href="TradingTickerHist.html#serialize">serialize</a></li><li data-type='method'><a href="TradingTickerHist.html#toJS">toJS</a></li></ul></li><li><a href="UserInfo.html">UserInfo</a><ul class='methods'><li data-type='method'><a href="UserInfo.html#.unserialize">unserialize</a></li><li data-type='method'><a href="UserInfo.html#.validate">validate</a></li><li data-type='method'><a href="UserInfo.html#serialize">serialize</a></li><li data-type='method'><a href="UserInfo.html#toJS">toJS</a></li></ul></li><li><a href="Wallet.html">Wallet</a><ul class='methods'><li data-type='method'><a href="Wallet.html#.unserialize">unserialize</a></li><li data-type='method'><a href="Wallet.html#.validate">validate</a></li><li data-type='method'><a href="Wallet.html#serialize">serialize</a></li><li data-type='method'><a href="Wallet.html#toJS">toJS</a></li></ul></li><li><a href="WalletHist.html">WalletHist</a><ul class='methods'><li data-type='method'><a href="WalletHist.html#.unserialize">unserialize</a></li><li data-type='method'><a href="WalletHist.html#.validate">validate</a></li><li data-type='method'><a href="WalletHist.html#serialize">serialize</a></li><li data-type='method'><a href="WalletHist.html#toJS">toJS</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#data%255B0%255D">data[0]</a></li><li><a href="global.html#data%255B1%255D">data[1]</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">model.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';function cov_1j7nx9bkz7() {var path = "/home/f3rno/code/bfx/bfx-api-node-models/src/model.js";var hash = "e0f538ee5e2c648522a0be249d29e881a61647b6";var global = new Function("return this")();var gcv = "__coverage__";var coverageData = { path: "/home/f3rno/code/bfx/bfx-api-node-models/src/model.js", statementMap: { "0": { start: { line: 3, column: 25 }, end: { line: 3, column: 42 } }, "1": { start: { line: 4, column: 20 }, end: { line: 4, column: 48 } }, "2": { start: { line: 5, column: 18 }, end: { line: 5, column: 44 } }, "3": { start: { line: 6, column: 18 }, end: { line: 6, column: 44 } }, "4": { start: { line: 7, column: 18 }, end: { line: 7, column: 44 } }, "5": { start: { line: 8, column: 17 }, end: { line: 8, column: 42 } }, "6": { start: { line: 9, column: 17 }, end: { line: 9, column: 42 } }, "7": { start: { line: 10, column: 14 }, end: { line: 10, column: 36 } }, "8": { start: { line: 12, column: 21 }, end: { line: 12, column: 52 } }, "9": { start: { line: 13, column: 39 }, end: { line: 13, column: 91 } }, "10": { start: { line: 37, column: 4 }, end: { line: 37, column: 11 } }, "11": { start: { line: 39, column: 4 }, end: { line: 39, column: 25 } }, "12": { start: { line: 40, column: 4 }, end: { line: 40, column: 33 } }, "13": { start: { line: 42, column: 4 }, end: { line: 50, column: 5 } }, "14": { start: { line: 43, column: 6 }, end: { line: 49, column: 8 } }, "15": { start: { line: 59, column: 22 }, end: { line: 59, column: 47 } }, "16": { start: { line: 60, column: 16 }, end: { line: 60, column: 18 } }, "17": { start: { line: 63, column: 4 }, end: { line: 71, column: 5 } }, "18": { start: { line: 63, column: 17 }, end: { line: 63, column: 18 } }, "19": { start: { line: 64, column: 6 }, end: { line: 64, column: 24 } }, "20": { start: { line: 65, column: 6 }, end: { line: 65, column: 27 } }, "21": { start: { line: 66, column: 6 }, end: { line: 66, column: 24 } }, "22": { start: { line: 68, column: 6 }, end: { line: 70, column: 7 } }, "23": { start: { line: 69, column: 8 }, end: { line: 69, column: 31 } }, "24": { start: { line: 73, column: 4 }, end: { line: 73, column: 14 } }, "25": { start: { line: 83, column: 30 }, end: { line: 83, column: 46 } }, "26": { start: { line: 86, column: 4 }, end: { line: 86, column: 42 } }, "27": { start: { line: 100, column: 4 }, end: { line: 106, column: 5 } }, "28": { start: { line: 101, column: 6 }, end: { line: 105, column: 9 } }, "29": { start: { line: 101, column: 27 }, end: { line: 105, column: 8 } }, "30": { start: { line: 108, column: 22 }, end: { line: 108, column: 41 } }, "31": { start: { line: 109, column: 16 }, end: { line: 109, column: 18 } }, "32": { start: { line: 111, column: 4 }, end: { line: 123, column: 6 } }, "33": { start: { line: 112, column: 6 }, end: { line: 112, column: 49 } }, "34": { start: { line: 112, column: 43 }, end: { line: 112, column: 49 } }, "35": { start: { line: 114, column: 6 }, end: { line: 118, column: 7 } }, "36": { start: { line: 115, column: 8 }, end: { line: 115, column: 36 } }, "37": { start: { line: 117, column: 8 }, end: { line: 117, column: 28 } }, "38": { start: { line: 120, column: 6 }, end: { line: 122, column: 7 } }, "39": { start: { line: 121, column: 8 }, end: { line: 121, column: 33 } }, "40": { start: { line: 125, column: 4 }, end: { line: 125, column: 14 } }, "41": { start: { line: 144, column: 4 }, end: { line: 151, column: 5 } }, "42": { start: { line: 145, column: 6 }, end: { line: 150, column: 32 } }, "43": { start: { line: 145, column: 27 }, end: { line: 150, column: 8 } }, "44": { start: { line: 153, column: 17 }, end: { line: 153, column: 40 } }, "45": { start: { line: 158, column: 4 }, end: { line: 171, column: 5 } }, "46": { start: { line: 158, column: 17 }, end: { line: 158, column: 18 } }, "47": { start: { line: 159, column: 6 }, end: { line: 159, column: 19 } }, "48": { start: { line: 160, column: 6 }, end: { line: 162, column: 19 } }, "49": { start: { line: 164, column: 6 }, end: { line: 170, column: 7 } }, "50": { start: { line: 165, column: 27 }, end: { line: 165, column: 57 } }, "51": { start: { line: 167, column: 8 }, end: { line: 169, column: 9 } }, "52": { start: { line: 168, column: 10 }, end: { line: 168, column: 51 } }, "53": { start: { line: 173, column: 4 }, end: { line: 173, column: 15 } }, "54": { start: { line: 184, column: 4 }, end: { line: 184, column: 64 } }, "55": { start: { line: 184, column: 37 }, end: { line: 184, column: 61 } }, "56": { start: { line: 188, column: 4 }, end: { line: 194, column: 5 } }, "57": { start: { line: 190, column: 8 }, end: { line: 190, column: 23 } }, "58": { start: { line: 193, column: 6 }, end: { line: 193, column: 39 } }, "59": { start: { line: 198, column: 0 }, end: { line: 198, column: 22 } } }, fnMap: { "0": { name: "(anonymous_0)", decl: { start: { line: 36, column: 2 }, end: { line: 36, column: 3 } }, loc: { start: { line: 36, column: 77 }, end: { line: 51, column: 3 } }, line: 36 }, "1": { name: "(anonymous_1)", decl: { start: { line: 58, column: 2 }, end: { line: 58, column: 3 } }, loc: { start: { line: 58, column: 15 }, end: { line: 74, column: 3 } }, line: 58 }, "2": { name: "(anonymous_2)", decl: { start: { line: 81, column: 2 }, end: { line: 81, column: 3 } }, loc: { start: { line: 81, column: 10 }, end: { line: 87, column: 3 } }, line: 81 }, "3": { name: "(anonymous_3)", decl: { start: { line: 99, column: 2 }, end: { line: 99, column: 3 } }, loc: { start: { line: 99, column: 75 }, end: { line: 126, column: 3 } }, line: 99 }, "4": { name: "(anonymous_4)", decl: { start: { line: 101, column: 22 }, end: { line: 101, column: 23 } }, loc: { start: { line: 101, column: 27 }, end: { line: 105, column: 8 } }, line: 101 }, "5": { name: "(anonymous_5)", decl: { start: { line: 111, column: 22 }, end: { line: 111, column: 23 } }, loc: { start: { line: 111, column: 31 }, end: { line: 123, column: 5 } }, line: 111 }, "6": { name: "(anonymous_6)", decl: { start: { line: 141, column: 2 }, end: { line: 141, column: 3 } }, loc: { start: { line: 143, column: 5 }, end: { line: 174, column: 3 } }, line: 143 }, "7": { name: "(anonymous_7)", decl: { start: { line: 145, column: 22 }, end: { line: 145, column: 23 } }, loc: { start: { line: 145, column: 27 }, end: { line: 150, column: 8 } }, line: 145 }, "8": { name: "(anonymous_8)", decl: { start: { line: 183, column: 2 }, end: { line: 183, column: 3 } }, loc: { start: { line: 183, column: 49 }, end: { line: 195, column: 3 } }, line: 183 }, "9": { name: "(anonymous_9)", decl: { start: { line: 184, column: 30 }, end: { line: 184, column: 31 } }, loc: { start: { line: 184, column: 35 }, end: { line: 184, column: 63 } }, line: 184 } }, branchMap: { "0": { loc: { start: { line: 36, column: 15 }, end: { line: 36, column: 75 } }, type: "default-arg", locations: [{ start: { line: 36, column: 73 }, end: { line: 36, column: 75 } }], line: 36 }, "1": { loc: { start: { line: 36, column: 23 }, end: { line: 36, column: 38 } }, type: "default-arg", locations: [{ start: { line: 36, column: 36 }, end: { line: 36, column: 38 } }], line: 36 }, "2": { loc: { start: { line: 36, column: 40 }, end: { line: 36, column: 51 } }, type: "default-arg", locations: [{ start: { line: 36, column: 49 }, end: { line: 36, column: 51 } }], line: 36 }, "3": { loc: { start: { line: 36, column: 53 }, end: { line: 36, column: 68 } }, type: "default-arg", locations: [{ start: { line: 36, column: 66 }, end: { line: 36, column: 68 } }], line: 36 }, "4": { loc: { start: { line: 42, column: 4 }, end: { line: 50, column: 5 } }, type: "if", locations: [{ start: { line: 42, column: 4 }, end: { line: 50, column: 5 } }, { start: { line: 42, column: 4 }, end: { line: 50, column: 5 } }], line: 42 }, "5": { loc: { start: { line: 42, column: 8 }, end: { line: 42, column: 41 } }, type: "binary-expr", locations: [{ start: { line: 42, column: 8 }, end: { line: 42, column: 23 } }, { start: { line: 42, column: 27 }, end: { line: 42, column: 41 } }], line: 42 }, "6": { loc: { start: { line: 68, column: 6 }, end: { line: 70, column: 7 } }, type: "if", locations: [{ start: { line: 68, column: 6 }, end: { line: 70, column: 7 } }, { start: { line: 68, column: 6 }, end: { line: 70, column: 7 } }], line: 68 }, "7": { loc: { start: { line: 69, column: 17 }, end: { line: 69, column: 31 } }, type: "cond-expr", locations: [{ start: { line: 69, column: 26 }, end: { line: 69, column: 27 } }, { start: { line: 69, column: 30 }, end: { line: 69, column: 31 } }], line: 69 }, "8": { loc: { start: { line: 99, column: 56 }, end: { line: 99, column: 71 } }, type: "default-arg", locations: [{ start: { line: 99, column: 69 }, end: { line: 99, column: 71 } }], line: 99 }, "9": { loc: { start: { line: 100, column: 4 }, end: { line: 106, column: 5 } }, type: "if", locations: [{ start: { line: 100, column: 4 }, end: { line: 106, column: 5 } }, { start: { line: 100, column: 4 }, end: { line: 106, column: 5 } }], line: 100 }, "10": { loc: { start: { line: 112, column: 6 }, end: { line: 112, column: 49 } }, type: "if", locations: [{ start: { line: 112, column: 6 }, end: { line: 112, column: 49 } }, { start: { line: 112, column: 6 }, end: { line: 112, column: 49 } }], line: 112 }, "11": { loc: { start: { line: 114, column: 6 }, end: { line: 118, column: 7 } }, type: "if", locations: [{ start: { line: 114, column: 6 }, end: { line: 118, column: 7 } }, { start: { line: 114, column: 6 }, end: { line: 118, column: 7 } }], line: 114 }, "12": { loc: { start: { line: 120, column: 6 }, end: { line: 122, column: 7 } }, type: "if", locations: [{ start: { line: 120, column: 6 }, end: { line: 122, column: 7 } }, { start: { line: 120, column: 6 }, end: { line: 122, column: 7 } }], line: 120 }, "13": { loc: { start: { line: 142, column: 18 }, end: { line: 142, column: 33 } }, type: "default-arg", locations: [{ start: { line: 142, column: 31 }, end: { line: 142, column: 33 } }], line: 142 }, "14": { loc: { start: { line: 144, column: 4 }, end: { line: 151, column: 5 } }, type: "if", locations: [{ start: { line: 144, column: 4 }, end: { line: 151, column: 5 } }, { start: { line: 144, column: 4 }, end: { line: 151, column: 5 } }], line: 144 }, "15": { loc: { start: { line: 145, column: 13 }, end: { line: 150, column: 32 } }, type: "binary-expr", locations: [{ start: { line: 145, column: 13 }, end: { line: 150, column: 24 } }, { start: { line: 150, column: 28 }, end: { line: 150, column: 32 } }], line: 145 }, "16": { loc: { start: { line: 160, column: 22 }, end: { line: 162, column: 19 } }, type: "cond-expr", locations: [{ start: { line: 161, column: 10 }, end: { line: 161, column: 27 } }, { start: { line: 162, column: 10 }, end: { line: 162, column: 19 } }], line: 160 }, "17": { loc: { start: { line: 164, column: 6 }, end: { line: 170, column: 7 } }, type: "if", locations: [{ start: { line: 164, column: 6 }, end: { line: 170, column: 7 } }, { start: { line: 164, column: 6 }, end: { line: 170, column: 7 } }], line: 164 }, "18": { loc: { start: { line: 167, column: 8 }, end: { line: 169, column: 9 } }, type: "if", locations: [{ start: { line: 167, column: 8 }, end: { line: 169, column: 9 } }, { start: { line: 167, column: 8 }, end: { line: 169, column: 9 } }], line: 167 }, "19": { loc: { start: { line: 188, column: 4 }, end: { line: 194, column: 5 } }, type: "if", locations: [{ start: { line: 188, column: 4 }, end: { line: 194, column: 5 } }, { start: { line: 188, column: 4 }, end: { line: 194, column: 5 } }], line: 188 } }, s: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0, "27": 0, "28": 0, "29": 0, "30": 0, "31": 0, "32": 0, "33": 0, "34": 0, "35": 0, "36": 0, "37": 0, "38": 0, "39": 0, "40": 0, "41": 0, "42": 0, "43": 0, "44": 0, "45": 0, "46": 0, "47": 0, "48": 0, "49": 0, "50": 0, "51": 0, "52": 0, "53": 0, "54": 0, "55": 0, "56": 0, "57": 0, "58": 0, "59": 0 }, f: { "0": 0, "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0 }, b: { "0": [0], "1": [0], "2": [0], "3": [0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0], "14": [0, 0], "15": [0, 0], "16": [0, 0], "17": [0, 0], "18": [0, 0], "19": [0, 0] }, _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9", hash: "e0f538ee5e2c648522a0be249d29e881a61647b6" };var coverage = global[gcv] || (global[gcv] = {});if (!coverage[path] || coverage[path].hash !== hash) {coverage[path] = coverageData;}var actualCoverage = coverage[path];cov_1j7nx9bkz7 = function () {return actualCoverage;};return actualCoverage;}cov_1j7nx9bkz7();

const { EventEmitter } = (cov_1j7nx9bkz7().s[0]++, require('events'));
const _isFunction = (cov_1j7nx9bkz7().s[1]++, require('lodash/isFunction'));
const _isObject = (cov_1j7nx9bkz7().s[2]++, require('lodash/isObject'));
const _isString = (cov_1j7nx9bkz7().s[3]++, require('lodash/isString'));
const _includes = (cov_1j7nx9bkz7().s[4]++, require('lodash/includes'));
const _isArray = (cov_1j7nx9bkz7().s[5]++, require('lodash/isArray'));
const _isError = (cov_1j7nx9bkz7().s[6]++, require('lodash/isError'));
const _keys = (cov_1j7nx9bkz7().s[7]++, require('lodash/keys'));

const isCollection = (cov_1j7nx9bkz7().s[8]++, require('./util/is_collection'));
const assignFromCollectionOrInstance = (cov_1j7nx9bkz7().s[9]++, require('./util/assign_from_collection_or_instance'));

/**
                                                                                                                         * @typedef {object} AbstractModelInstance
                                                                                                                         * @property {Function} unserialize - must return POJO version of model or
                                                                                                                         *   array of POJOs if model is a collection
                                                                                                                         *   models to array format
                                                                                                                         */

/**
                                                                                                                             * Base model class, providing format-conversion methods
                                                                                                                             *
                                                                                                                             * @extends EventEmitter
                                                                                                                             */
class Model extends EventEmitter {
  /**
                                   * @param {object} params - model parameters
                                   * @param {object[]|object|Array} [params.data] - model data
                                   * @param {object} [params.parsedData] - object to receive initialized model
                                   *   data; needs to be merged onto child class instance
                                   * @param {object} [params.fields] - field definitions, { [index]: key }
                                   * @param {string[]} [params.boolFields] - array of boolean field keys, default empty
                                   */
  constructor({ data, parsedData = (cov_1j7nx9bkz7().b[1][0]++, {}), fields = (cov_1j7nx9bkz7().b[2][0]++, {}), boolFields = (cov_1j7nx9bkz7().b[3][0]++, []) } = (cov_1j7nx9bkz7().b[0][0]++, {})) {cov_1j7nx9bkz7().f[0]++;cov_1j7nx9bkz7().s[10]++;
    super();cov_1j7nx9bkz7().s[11]++;

    this._fields = fields;cov_1j7nx9bkz7().s[12]++;
    this._boolFields = boolFields;cov_1j7nx9bkz7().s[13]++;

    if ((cov_1j7nx9bkz7().b[5][0]++, _isObject(data)) || (cov_1j7nx9bkz7().b[5][1]++, _isArray(data))) {cov_1j7nx9bkz7().b[4][0]++;cov_1j7nx9bkz7().s[14]++;
      assignFromCollectionOrInstance({
        data,
        fields,
        boolFields,
        instance: this,
        target: parsedData });

    } else {cov_1j7nx9bkz7().b[4][1]++;}
  }

  /**
     * Converts this model to array-format and returns the result
     *
     * @returns {Array} arr
     */
  serialize() {cov_1j7nx9bkz7().f[1]++;
    const fieldKeys = (cov_1j7nx9bkz7().s[15]++, Object.keys(this._fields));
    const arr = (cov_1j7nx9bkz7().s[16]++, []);
    let i, key;cov_1j7nx9bkz7().s[17]++;

    for (let j = (cov_1j7nx9bkz7().s[18]++, 0); j &lt; fieldKeys.length; j += 1) {cov_1j7nx9bkz7().s[19]++;
      key = fieldKeys[j];cov_1j7nx9bkz7().s[20]++;
      i = this._fields[key];cov_1j7nx9bkz7().s[21]++;
      arr[i] = this[key];cov_1j7nx9bkz7().s[22]++;

      if (_includes(this._boolFields, key)) {cov_1j7nx9bkz7().b[6][0]++;cov_1j7nx9bkz7().s[23]++;
        arr[i] = arr[i] ? (cov_1j7nx9bkz7().b[7][0]++, 1) : (cov_1j7nx9bkz7().b[7][1]++, 0);
      } else {cov_1j7nx9bkz7().b[6][1]++;}
    }cov_1j7nx9bkz7().s[24]++;

    return arr;
  }

  /**
     * Converts this model to object-format and returns the result
     *
     * @returns {object} pojo
     */
  toJS() {cov_1j7nx9bkz7().f[2]++;
    const m = ( /** @type {AbstractModelInstance} */
    /** @type {unknown} */cov_1j7nx9bkz7().s[25]++, this.constructor);cov_1j7nx9bkz7().s[26]++;


    return m.unserialize(this.serialize());
  }

  /**
     * Generic method for converting either an array, object, or model instance to
     * a POJO.
     *
     * @param {object} args - arguments
     * @param {object[]|object|Array} args.data - can also be a model instance
     * @param {object} args.fields - field definitions, { [index]: key }
     * @param {string[]} [args.boolFields] - array of boolean field keys, default empty
     * @returns {object} pojo
     */
  static unserializeWithDataDefinition({ data, fields, boolFields = (cov_1j7nx9bkz7().b[8][0]++, []) }) {cov_1j7nx9bkz7().f[3]++;cov_1j7nx9bkz7().s[27]++;
    if (isCollection(data)) {cov_1j7nx9bkz7().b[9][0]++;cov_1j7nx9bkz7().s[28]++;
      return data.map(m => {cov_1j7nx9bkz7().f[4]++;cov_1j7nx9bkz7().s[29]++;return Model.unserializeWithDataDefinition({
          data: m,
          boolFields,
          fields });
      });
    } else {cov_1j7nx9bkz7().b[9][1]++;}

    const fieldKeys = (cov_1j7nx9bkz7().s[30]++, Object.keys(fields));
    const obj = (cov_1j7nx9bkz7().s[31]++, {});cov_1j7nx9bkz7().s[32]++;

    fieldKeys.forEach(key => {cov_1j7nx9bkz7().f[5]++;cov_1j7nx9bkz7().s[33]++;
      if ((fields[key] + '').length === 0) {cov_1j7nx9bkz7().b[10][0]++;cov_1j7nx9bkz7().s[34]++;return;} else {cov_1j7nx9bkz7().b[10][1]++;}cov_1j7nx9bkz7().s[35]++;

      if (_isArray(data)) {cov_1j7nx9bkz7().b[11][0]++;cov_1j7nx9bkz7().s[36]++;
        obj[key] = data[fields[key]];
      } else {cov_1j7nx9bkz7().b[11][1]++;cov_1j7nx9bkz7().s[37]++;
        obj[key] = data[key];
      }cov_1j7nx9bkz7().s[38]++;

      if (_includes(boolFields, key)) {cov_1j7nx9bkz7().b[12][0]++;cov_1j7nx9bkz7().s[39]++;
        obj[key] = obj[key] === 1;
      } else {cov_1j7nx9bkz7().b[12][1]++;}
    });cov_1j7nx9bkz7().s[40]++;

    return obj;
  }

  /**
     * Validates either a single model instance or a collection of model instances
     * against a set of validation functions defined per-key.
     *
     * Returns the first error found.
     *
     * @param {object} args - arguments
     * @param {object[]|object|Array} args.data - model or collection to validate
     * @param {object} args.fields - map of fields to array indexes
     * @param {object} args.validators - map of field names to validation funcs
     * @param {string[]} [args.boolFields] - array of boolean field keys, default empty
     * @returns {Error|null} error - null if instance is valid
     */
  static validateWithDataDefinition({
    data, fields, boolFields = (cov_1j7nx9bkz7().b[13][0]++, []), validators })
  {cov_1j7nx9bkz7().f[6]++;cov_1j7nx9bkz7().s[41]++;
    if (isCollection(data)) {cov_1j7nx9bkz7().b[14][0]++;cov_1j7nx9bkz7().s[42]++;
      return (cov_1j7nx9bkz7().b[15][0]++, data.map(i => {cov_1j7nx9bkz7().f[7]++;cov_1j7nx9bkz7().s[43]++;return Model.validateWithDataDefinition({
          data: i,
          fields,
          boolFields,
          validators });
      }).find(_isError)) || (cov_1j7nx9bkz7().b[15][1]++, null); // return first error
    } else {cov_1j7nx9bkz7().b[14][1]++;}

    const keys = (cov_1j7nx9bkz7().s[44]++, Object.keys(validators));

    let key;
    let instanceValue;cov_1j7nx9bkz7().s[45]++;

    for (let i = (cov_1j7nx9bkz7().s[46]++, 0); i &lt; keys.length; i += 1) {cov_1j7nx9bkz7().s[47]++;
      key = keys[i];cov_1j7nx9bkz7().s[48]++;
      instanceValue = _isArray(data) ? (cov_1j7nx9bkz7().b[16][0]++,
      data[fields[key]]) : (cov_1j7nx9bkz7().b[16][1]++,
      data[key]);cov_1j7nx9bkz7().s[49]++;

      if (_isFunction(validators[key])) {cov_1j7nx9bkz7().b[17][0]++;
        const errMessage = (cov_1j7nx9bkz7().s[50]++, validators[key](instanceValue));cov_1j7nx9bkz7().s[51]++;

        if (_isString(errMessage)) {cov_1j7nx9bkz7().b[18][0]++;cov_1j7nx9bkz7().s[52]++;
          return new Error(`${key}: ${errMessage}`);
        } else {cov_1j7nx9bkz7().b[18][1]++;}
      } else {cov_1j7nx9bkz7().b[17][1]++;}
    }cov_1j7nx9bkz7().s[53]++;

    return null;
  }

  /**
     * Helper to apply parsed data from {@link Model#constructor} to class
     * instance
     *
     * @param {object} model - model instance
     * @param {object} parsedData - parsed data
     */
  static setParsedProperties(model, parsedData) {cov_1j7nx9bkz7().f[8]++;cov_1j7nx9bkz7().s[54]++;
    _keys(parsedData).forEach(k => {cov_1j7nx9bkz7().f[9]++;cov_1j7nx9bkz7().s[55]++;model[k] = parsedData[k];});

    // Typescript does not allow symbols as keys, due to no issue w/ index
    // signature, hence cast symbol -> unknown -> string
    cov_1j7nx9bkz7().s[56]++;if (parsedData._iterator) {cov_1j7nx9bkz7().b[19][0]++;
      const key = ( /** @type {string} */ /** @type {unknown} */cov_1j7nx9bkz7().s[57]++,
      Symbol.iterator);cov_1j7nx9bkz7().s[58]++;


      model[key] = parsedData._iterator;
    } else {cov_1j7nx9bkz7().b[19][1]++;}
  }}cov_1j7nx9bkz7().s[59]++;


module.exports = Model;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tb2RlbC5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJyZXF1aXJlIiwiX2lzRnVuY3Rpb24iLCJfaXNPYmplY3QiLCJfaXNTdHJpbmciLCJfaW5jbHVkZXMiLCJfaXNBcnJheSIsIl9pc0Vycm9yIiwiX2tleXMiLCJpc0NvbGxlY3Rpb24iLCJhc3NpZ25Gcm9tQ29sbGVjdGlvbk9ySW5zdGFuY2UiLCJNb2RlbCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInBhcnNlZERhdGEiLCJmaWVsZHMiLCJib29sRmllbGRzIiwiX2ZpZWxkcyIsIl9ib29sRmllbGRzIiwiaW5zdGFuY2UiLCJ0YXJnZXQiLCJzZXJpYWxpemUiLCJmaWVsZEtleXMiLCJPYmplY3QiLCJrZXlzIiwiYXJyIiwiaSIsImtleSIsImoiLCJsZW5ndGgiLCJ0b0pTIiwibSIsInVuc2VyaWFsaXplIiwidW5zZXJpYWxpemVXaXRoRGF0YURlZmluaXRpb24iLCJtYXAiLCJvYmoiLCJmb3JFYWNoIiwidmFsaWRhdGVXaXRoRGF0YURlZmluaXRpb24iLCJ2YWxpZGF0b3JzIiwiZmluZCIsImluc3RhbmNlVmFsdWUiLCJlcnJNZXNzYWdlIiwiRXJyb3IiLCJzZXRQYXJzZWRQcm9wZXJ0aWVzIiwibW9kZWwiLCJrIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxhOztBQUVBLE1BQU0sRUFBRUEsWUFBRiwrQkFBbUJDLE9BQU8sQ0FBQyxRQUFELENBQTFCLENBQU47QUFDQSxNQUFNQyxXQUFXLDZCQUFHRCxPQUFPLENBQUMsbUJBQUQsQ0FBVixDQUFqQjtBQUNBLE1BQU1FLFNBQVMsNkJBQUdGLE9BQU8sQ0FBQyxpQkFBRCxDQUFWLENBQWY7QUFDQSxNQUFNRyxTQUFTLDZCQUFHSCxPQUFPLENBQUMsaUJBQUQsQ0FBVixDQUFmO0FBQ0EsTUFBTUksU0FBUyw2QkFBR0osT0FBTyxDQUFDLGlCQUFELENBQVYs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V0FBTyxJQUFQO0FBQ0Q7O0FBRUQ7Ozs7Ozs7QUFPQSxTQUFPRSxtQkFBUCxDQUE0QkMsS0FBNUIsRUFBbUM5QixVQUFuQyxFQUErQztBQUM3Q04sSUFBQUEsS0FBSyxDQUFDTSxVQUFELENBQUwsQ0FBa0JzQixPQUFsQixDQUEwQlMsQ0FBQyxJQUFJLGtEQUFFRCxLQUFLLENBQUNDLENBQUQsQ0FBTCxHQUFXL0IsVUFBVSxDQUFDK0IsQ0FBRCxDQUFyQixDQUEwQixDQUEzRDs7QUFFQTtBQUNBO0FBSjZDLDZCQUs3QyxJQUFJL0IsVUFBVSxDQUFDZ0MsU0FBZixFQUEwQjtBQUN4QixZQUFNbkIsR0FBRyxLQUFJLHFCQUFKLENBQTJCLHNCQUEzQjtBQUNQb0IsTUFBQUEsTUFBTSxDQUFDQyxRQURBLENBQVQsQ0FEd0I7OztBQUt4QkosTUFBQUEsS0FBSyxDQUFDakIsR0FBRCxDQUFMLEdBQWFiLFVBQVUsQ0FBQ2dDLFNBQXhCO0FBQ0QsS0FORDtBQU9ELEdBeEs4QixDOzs7QUEyS2pDRyxNQUFNLENBQUNDLE9BQVAsR0FBaUJ2QyxLQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IEV2ZW50RW1pdHRlciB9ID0gcmVxdWlyZSgnZXZlbnRzJylcbmNvbnN0IF9pc0Z1bmN0aW9uID0gcmVxdWlyZSgnbG9kYXNoL2lzRnVuY3Rpb24nKVxuY29uc3QgX2lzT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzT2JqZWN0JylcbmNvbnN0IF9pc1N0cmluZyA9IHJlcXVpcmUoJ2xvZGFzaC9pc1N0cmluZycpXG5jb25zdCBfaW5jbHVkZXMgPSByZXF1aXJlKCdsb2Rhc2gvaW5jbHVkZXMnKVxuY29uc3QgX2lzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2gvaXNBcnJheScpXG5jb25zdCBfaXNFcnJvciA9IHJlcXVpcmUoJ2xvZGFzaC9pc0Vycm9yJylcbmNvbnN0IF9rZXlzID0gcmVxdWlyZSgnbG9kYXNoL2tleXMnKVxuXG5jb25zdCBpc0NvbGxlY3Rpb24gPSByZXF1aXJlKCcuL3V0aWwvaXNfY29sbGVjdGlvbicpXG5jb25zdCBhc3NpZ25Gcm9tQ29sbGVjdGlvbk9ySW5zdGFuY2UgPSByZXF1aXJlKCcuL3V0aWwvYXNzaWduX2Zyb21fY29sbGVjdGlvbl9vcl9pbnN0YW5jZScpXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gQWJzdHJhY3RNb2RlbEluc3RhbmNlXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSB1bnNlcmlhbGl6ZSAtIG11c3QgcmV0dXJuIFBPSk8gdmVyc2lvbiBvZiBtb2RlbCBvclxuICogICBhcnJheSBvZiBQT0pPcyBpZiBtb2RlbCBpcyBhIGNvbGxlY3Rpb25cbiAqICAgbW9kZWxzIHRvIGFycmF5IGZvcm1hdFxuICovXG5cbi8qKlxuICogQmFzZSBtb2RlbCBjbGFzcywgcHJvdmlkaW5nIGZvcm1hdC1jb252ZXJzaW9uIG1ldGhvZHNcbiAqXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqL1xuY2xhc3MgTW9kZWwgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIG1vZGVsIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtvYmplY3RbXXxvYmplY3R8QXJyYXl9IFtwYXJhbXMuZGF0YV0gLSBtb2RlbCBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zLnBhcnNlZERhdGFdIC0gb2JqZWN0IHRvIHJlY2VpdmUgaW5pdGlhbGl6ZWQgbW9kZWxcbiAgICogICBkYXRhOyBuZWVkcyB0byBiZSBtZXJnZWQgb250byBjaGlsZCBjbGFzcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtcy5maWVsZHNdIC0gZmllbGQgZGVmaW5pdGlvbnMsIHsgW2luZGV4XToga2V5IH1cbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3BhcmFtcy5ib29sRmllbGRzXSAtIGFycmF5IG9mIGJvb2xlYW4gZmllbGQga2V5cywgZGVmYXVsdCBlbXB0eVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHsgZGF0YSwgcGFyc2VkRGF0YSA9IHt9LCBmaWVsZHMgPSB7fSwgYm9vbEZpZWxkcyA9IFtdIH0gPSB7fSkge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMuX2ZpZWxkcyA9IGZpZWxkc1xuICAgIHRoaXMuX2Jvb2xGaWVsZHMgPSBib29sRmllbGRzXG5cbiAgICBpZiAoX2lzT2JqZWN0KGRhdGEpIHx8IF9pc0FycmF5KGRhdGEpKSB7XG4gICAgICBhc3NpZ25Gcm9tQ29sbGVjdGlvbk9ySW5zdGFuY2Uoe1xuICAgICAgICBkYXRhLFxuICAgICAgICBmaWVsZHMsXG4gICAgICAgIGJvb2xGaWVsZHMsXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgICB0YXJnZXQ6IHBhcnNlZERhdGFcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoaXMgbW9kZWwgdG8gYXJyYXktZm9ybWF0IGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSBhcnJcbiAgICovXG4gIHNlcmlhbGl6ZSAoKSB7XG4gICAgY29uc3QgZmllbGRLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZmllbGRzKVxuICAgIGNvbnN0IGFyciA9IFtdXG4gICAgbGV0IGksIGtleVxuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWVsZEtleXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGtleSA9IGZpZWxkS2V5c1tqXVxuICAgICAgaSA9IHRoaXMuX2ZpZWxkc1trZXldXG4gICAgICBhcnJbaV0gPSB0aGlzW2tleV1cblxuICAgICAgaWYgKF9pbmNsdWRlcyh0aGlzLl9ib29sRmllbGRzLCBrZXkpKSB7XG4gICAgICAgIGFycltpXSA9IGFycltpXSA/IDEgOiAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyclxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoaXMgbW9kZWwgdG8gb2JqZWN0LWZvcm1hdCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHBvam9cbiAgICovXG4gIHRvSlMgKCkge1xuICAgIGNvbnN0IG0gPSAvKiogQHR5cGUge0Fic3RyYWN0TW9kZWxJbnN0YW5jZX0gKi8gKFxuICAgICAgLyoqIEB0eXBlIHt1bmtub3dufSAqLyAodGhpcy5jb25zdHJ1Y3RvcilcbiAgICApXG5cbiAgICByZXR1cm4gbS51bnNlcmlhbGl6ZSh0aGlzLnNlcmlhbGl6ZSgpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgbWV0aG9kIGZvciBjb252ZXJ0aW5nIGVpdGhlciBhbiBhcnJheSwgb2JqZWN0LCBvciBtb2RlbCBpbnN0YW5jZSB0b1xuICAgKiBhIFBPSk8uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzIC0gYXJndW1lbnRzXG4gICAqIEBwYXJhbSB7b2JqZWN0W118b2JqZWN0fEFycmF5fSBhcmdzLmRhdGEgLSBjYW4gYWxzbyBiZSBhIG1vZGVsIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzLmZpZWxkcyAtIGZpZWxkIGRlZmluaXRpb25zLCB7IFtpbmRleF06IGtleSB9XG4gICAqIEBwYXJhbSB7c3RyaW5nW119IFthcmdzLmJvb2xGaWVsZHNdIC0gYXJyYXkgb2YgYm9vbGVhbiBmaWVsZCBrZXlzLCBkZWZhdWx0IGVtcHR5XG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHBvam9cbiAgICovXG4gIHN0YXRpYyB1bnNlcmlhbGl6ZVdpdGhEYXRhRGVmaW5pdGlvbiAoeyBkYXRhLCBmaWVsZHMsIGJvb2xGaWVsZHMgPSBbXSB9KSB7XG4gICAgaWYgKGlzQ29sbGVjdGlvbihkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEubWFwKG0gPT4gTW9kZWwudW5zZXJpYWxpemVXaXRoRGF0YURlZmluaXRpb24oe1xuICAgICAgICBkYXRhOiBtLFxuICAgICAgICBib29sRmllbGRzLFxuICAgICAgICBmaWVsZHNcbiAgICAgIH0pKVxuICAgIH1cblxuICAgIGNvbnN0IGZpZWxkS2V5cyA9IE9iamVjdC5rZXlzKGZpZWxkcylcbiAgICBjb25zdCBvYmogPSB7fVxuXG4gICAgZmllbGRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKChmaWVsZHNba2V5XSArICcnKS5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgICBpZiAoX2lzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBkYXRhW2ZpZWxkc1trZXldXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqW2tleV0gPSBkYXRhW2tleV1cbiAgICAgIH1cblxuICAgICAgaWYgKF9pbmNsdWRlcyhib29sRmllbGRzLCBrZXkpKSB7XG4gICAgICAgIG9ialtrZXldID0gb2JqW2tleV0gPT09IDFcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBlaXRoZXIgYSBzaW5nbGUgbW9kZWwgaW5zdGFuY2Ugb3IgYSBjb2xsZWN0aW9uIG9mIG1vZGVsIGluc3RhbmNlc1xuICAgKiBhZ2FpbnN0IGEgc2V0IG9mIHZhbGlkYXRpb24gZnVuY3Rpb25zIGRlZmluZWQgcGVyLWtleS5cbiAgICpcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgZXJyb3IgZm91bmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzIC0gYXJndW1lbnRzXG4gICAqIEBwYXJhbSB7b2JqZWN0W118b2JqZWN0fEFycmF5fSBhcmdzLmRhdGEgLSBtb2RlbCBvciBjb2xsZWN0aW9uIHRvIHZhbGlkYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzLmZpZWxkcyAtIG1hcCBvZiBmaWVsZHMgdG8gYXJyYXkgaW5kZXhlc1xuICAgKiBAcGFyYW0ge29iamVjdH0gYXJncy52YWxpZGF0b3JzIC0gbWFwIG9mIGZpZWxkIG5hbWVzIHRvIHZhbGlkYXRpb24gZnVuY3NcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW2FyZ3MuYm9vbEZpZWxkc10gLSBhcnJheSBvZiBib29sZWFuIGZpZWxkIGtleXMsIGRlZmF1bHQgZW1wdHlcbiAgICogQHJldHVybnMge0Vycm9yfG51bGx9IGVycm9yIC0gbnVsbCBpZiBpbnN0YW5jZSBpcyB2YWxpZFxuICAgKi9cbiAgc3RhdGljIHZhbGlkYXRlV2l0aERhdGFEZWZpbml0aW9uICh7XG4gICAgZGF0YSwgZmllbGRzLCBib29sRmllbGRzID0gW10sIHZhbGlkYXRvcnNcbiAgfSkge1xuICAgIGlmIChpc0NvbGxlY3Rpb24oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLm1hcChpID0+IE1vZGVsLnZhbGlkYXRlV2l0aERhdGFEZWZpbml0aW9uKHtcbiAgICAgICAgZGF0YTogaSxcbiAgICAgICAgZmllbGRzLFxuICAgICAgICBib29sRmllbGRzLFxuICAgICAgICB2YWxpZGF0b3JzXG4gICAgICB9KSkuZmluZChfaXNFcnJvcikgfHwgbnVsbCAvLyByZXR1cm4gZmlyc3QgZXJyb3JcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsaWRhdG9ycylcblxuICAgIGxldCBrZXlcbiAgICBsZXQgaW5zdGFuY2VWYWx1ZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldXG4gICAgICBpbnN0YW5jZVZhbHVlID0gX2lzQXJyYXkoZGF0YSlcbiAgICAgICAgPyBkYXRhW2ZpZWxkc1trZXldXVxuICAgICAgICA6IGRhdGFba2V5XVxuXG4gICAgICBpZiAoX2lzRnVuY3Rpb24odmFsaWRhdG9yc1trZXldKSkge1xuICAgICAgICBjb25zdCBlcnJNZXNzYWdlID0gdmFsaWRhdG9yc1trZXldKGluc3RhbmNlVmFsdWUpXG5cbiAgICAgICAgaWYgKF9pc1N0cmluZyhlcnJNZXNzYWdlKSkge1xuICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoYCR7a2V5fTogJHtlcnJNZXNzYWdlfWApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBhcHBseSBwYXJzZWQgZGF0YSBmcm9tIHtAbGluayBNb2RlbCNjb25zdHJ1Y3Rvcn0gdG8gY2xhc3NcbiAgICogaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIC0gbW9kZWwgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcnNlZERhdGEgLSBwYXJzZWQgZGF0YVxuICAgKi9cbiAgc3RhdGljIHNldFBhcnNlZFByb3BlcnRpZXMgKG1vZGVsLCBwYXJzZWREYXRhKSB7XG4gICAgX2tleXMocGFyc2VkRGF0YSkuZm9yRWFjaChrID0+IHsgbW9kZWxba10gPSBwYXJzZWREYXRhW2tdIH0pXG5cbiAgICAvLyBUeXBlc2NyaXB0IGRvZXMgbm90IGFsbG93IHN5bWJvbHMgYXMga2V5cywgZHVlIHRvIG5vIGlzc3VlIHcvIGluZGV4XG4gICAgLy8gc2lnbmF0dXJlLCBoZW5jZSBjYXN0IHN5bWJvbCAtPiB1bmtub3duIC0+IHN0cmluZ1xuICAgIGlmIChwYXJzZWREYXRhLl9pdGVyYXRvcikge1xuICAgICAgY29uc3Qga2V5ID0gKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoLyoqIEB0eXBlIHt1bmtub3dufSAqLyAoXG4gICAgICAgIFN5bWJvbC5pdGVyYXRvclxuICAgICAgKSkpXG5cbiAgICAgIG1vZGVsW2tleV0gPSBwYXJzZWREYXRhLl9pdGVyYXRvclxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGVsXG4iXX0=</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Thu Apr 09 2020 03:20:59 GMT+0700 (Indochina Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
